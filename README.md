# Синхронизатор файлов с Яндекс.Диском

## Описание

Данный проект представляет собой утилиту для синхронизации файлов между локальной папкой и облачным хранилищем Яндекс.Диска. Программа разработана с акцентом на эффективность, надежность и синхронизацию в режиме реального времени, обеспечивая целостность данных как в облаке, так и на локальном устройстве.

## Как работает
- **Первый запуск:** Программа проверяет изменения в облаке и, если они есть, обновляет локальное хранилище, загружая недостающие файлы.
- **Последующие запуски:** Синхронизируются только новые или измененные файлы в локальном хранилище.
- **Удаление файлов:** При удалении файлов в локальном или облачном хранилище, синхронизатор корректно их удаляет, приводя оба хранилища к единому состоянию.
- **Восстановление данных:** Если локальная папка была случайно удалена, программа восстанавливает все утраченные файлы из облачного хранилища.
- **Период синхронизации:** Интервал синхронизации задается пользователем в переменной окружения.
- **API Яндекс.Диска:** Программа работает с API Яндекс.Диска и использует токен для доступа, который можно получить на [странице API Яндекс.Диска](https://yandex.ru/dev/disk/poligon/).

### Логирование и кеширование
- Логи работы программы сохраняются в файл, путь к которому задается в файле `.env`.
- В кеш записываются имена файлов и время их последнего изменения для оптимизации работы.

### Обработка ошибок
- Программа корректирует системное время для обеспечения корректной синхронизации.
- При возникновении ошибок доступа к папкам (локальным или облачным) автоматически создаются недостающие директории с подгрузкой недостающих файлов.
- Программа не прерывает свою работу при ошибках: данные в кеше обновляются, а синхронизация продолжается.

## Настройка программы
Для работы программы необходимо задать следующие параметры в файле `.env`:

- PATH_FOLDER - Путь к синхронизируемой папке
- NAME_FOLDER_IN_CLOUD_STORAGE - Имя папки в облачном хранилище
- YANDEX_DISK_TOKEN - Токен доступа к API Яндекс.Диска (получить можно по ссылке https://yandex.ru/dev/disk/poligon/)
- SYNCHRONIZATION_PERIOD - Период синхронизации в секундах
- PATH_LOG_FILE - Путь к файлу лога

## Используемые библиотеки:
- **loguru** — для удобного логирования
- **ntplib** — для синхронизации времени
- **pydantic-settings** — для работы с настройками
- **python-dotenv** — для работы с переменными окружения
- **requests** — для работы с API Яндекс.Диска

## Основные возможности:
- **Синхронизация новых и измененных файлов**: Программа синхронизирует только новые или измененные файлы из локального хранилища с облаком Яндекс.Диска. Это позволяет минимизировать время и ресурсы на передачу данных.
- **Проверка изменений в облаке**: При первом запуске синхронизатор проверяет состояние файлов в облачном хранилище и, если были изменения, обновляет данные в локальной папке.
- **Автоматическая обработка ошибок**: Программа создает необходимые директории (кеш, локальные и облачные папки) в случае их отсутствия. Обработчик ошибок обеспечивает бесперебойную работу программы, даже при возникновении проблем с доступом к файлам или папкам.
- **Работа с кешем**: В кеш записываются имена файлов и время их последнего изменения для ускорения последующих синхронизаций.
- **Коррекция времени**: Для корректной синхронизации программа проверяет и корректирует время на сервере и на локальном компьютере.


## Преимущества
- **Эффективность:** Синхронизируются только измененные файлы, что экономит время и ресурсы.
- **Надежность:** Программа устойчива к ошибкам и гарантирует синхронизацию данных.
- **Удаление и восстановление:** Программа удаляет файлы из обеих папок, если они были удалены, и восстанавливает локальные данные из облака при их утрате.
- **Простота настройки**: Вся конфигурация задается через файл `.env`, что упрощает использование программы на разных системах.

Проект демонстрирует навыки в работе с API, обработке ошибок, а также в использовании сторонних библиотек для создания эффективных решений.
